╔══════════════════════════════════════════════════════════════╗
║           ПРОСТАЯ ИНСТРУКЦИЯ ДЛЯ НЕ-ПРОГРАММИСТОВ          ║
║          Как работать с датасетами и токенизатором          ║
╚══════════════════════════════════════════════════════════════╝


═══════════════════════════════════════════════════════════════
📚 ЧТО ТАКОЕ ЧТО
═══════════════════════════════════════════════════════════════

🧠 МОДЕЛЬ = Ваш "мозг" нейросети
   • Хранит ВСЁ обучение
   • Все веса и знания
   • Если удалить → ВСЁ обучение стёрто! ❌

📖 ТОКЕНИЗАТОР = Словарь для перевода
   • Список слов которые модель знает
   • Переводит "слово → число"
   • Если удалить → модель НЕ затронута! ✅
   • Пересоздаётся автоматически

📁 ДАТАСЕТЫ = Ваши тексты/книги
   • Данные для обучения
   • Можно добавлять/удалять
   • Не влияют на уже обученную модель


═══════════════════════════════════════════════════════════════
🎯 ТИПИЧНЫЕ СИТУАЦИИ
═══════════════════════════════════════════════════════════════

┌─────────────────────────────────────────────────────────────┐
│ СИТУАЦИЯ 1: Первый раз обучаю модель                        │
└─────────────────────────────────────────────────────────────┘

ЧТО ДЕЛАТЬ:
   1. Создать модель (вкладка "Создать")
   2. Загрузить датасеты (вкладка "Датасеты")
   3. Прикрепить их к модели
   4. Запустить обучение (вкладка "Обучение")

ЧТО ПРОИСХОДИТ АВТОМАТИЧЕСКИ:
   ✅ Токенизатор создаётся на всех датасетах
   ✅ Модель обучается
   ✅ Всё сохраняется

НИЧЕГО УДАЛЯТЬ НЕ НУЖНО!


┌─────────────────────────────────────────────────────────────┐
│ СИТУАЦИЯ 2: Продолжаю обучать ту же модель                  │
└─────────────────────────────────────────────────────────────┘

Пример:
   Обучили на 10,000 итераций
   Хотите продолжить до 20,000

ЧТО ДЕЛАТЬ:
   1. Вкладка "Обучение"
   2. Выбрать модель
   3. Max Iterations: 20000
   4. Запустить обучение

ЧТО ПРОИСХОДИТ:
   ✅ Токенизатор УЖЕ ЕСТЬ - используется старый
   ✅ Модель продолжает учиться с того места где остановилась

НИЧЕГО УДАЛЯТЬ НЕ НУЖНО!


┌─────────────────────────────────────────────────────────────┐
│ СИТУАЦИЯ 3: Добавил НОВЫЙ датасет                           │
└─────────────────────────────────────────────────────────────┘

Пример:
   Было: book1.txt, book2.txt
   Добавили: book3.txt (новая тема, новые слова!)

ПРОБЛЕМА:
   Старый токенизатор НЕ ЗНАЕТ новые слова из book3.txt
   Модель будет генерировать <UNK> для этих слов

ЧТО ДЕЛАТЬ (теперь ЛЕГКО!):
   1. Вкладка "Датасеты"
   2. Прикрепить новый датасет к модели
   3. Нажать кнопку: 🔄 "Переобучить токенизатор"
   4. Подтвердить
   5. Запустить обучение снова

ЧТО ПРОИСХОДИТ:
   ✅ Старый токенизатор удаляется
   ✅ При следующем обучении создаётся НОВЫЙ на book1+book2+book3
   ✅ Модель остаётся НЕТРОНУТОЙ! Всё обучение сохранено!
   ✅ Модель продолжает учиться, теперь зная новые слова


┌─────────────────────────────────────────────────────────────┐
│ СИТУАЦИЯ 4: Модель генерирует много <UNK> <UNK>             │
└─────────────────────────────────────────────────────────────┘

ПРИЧИНА:
   Токенизатор плохо обучен (старая версия кода)

ЧТО ДЕЛАТЬ:
   1. Вкладка "Датасеты"
   2. Убедиться что датасеты прикреплены
   3. Нажать: 🔄 "Переобучить токенизатор"
   4. Запустить обучение на 10,000+ итераций

РЕЗУЛЬТАТ:
   ✅ Новый токенизатор знает все слова
   ✅ <UNK> исчезнут (или будут редко)


═══════════════════════════════════════════════════════════════
🔘 КНОПКА "ПЕРЕОБУЧИТЬ ТОКЕНИЗАТОР"
═══════════════════════════════════════════════════════════════

ГДЕ: Вкладка "Датасеты"

ЧТО ДЕЛАЕТ:
   • Удаляет старый токенизатор (словарь)
   • При следующем обучении создаётся новый на ВСЕХ датасетах

КОГДА НАЖИМАТЬ:
   ✅ Добавили новый датасет
   ✅ Много <UNK> при генерации
   ✅ Хотите пересоздать словарь

КОГДА НЕ НАЖИМАТЬ:
   ❌ Просто продолжаете обучение (тот же датасет)
   ❌ Изменили batch_size или learning_rate
   ❌ Без особой причины

ЧТО СЛУЧИТСЯ С МОДЕЛЬЮ:
   ✅ НИЧЕГО! Модель остаётся нетронутой
   ✅ Всё обучение сохранено
   ✅ Удаляется только словарь (пересоздастся автоматически)


═══════════════════════════════════════════════════════════════
⚠️ ЧАСТЫЕ ОШИБКИ
═══════════════════════════════════════════════════════════════

❌ ОШИБКА 1: Боюсь нажимать кнопку, вдруг всё сотрётся!

   Правда: Кнопка удаляет ТОЛЬКО токенизатор (словарь)
          Модель (ваше обучение) остаётся нетронутой!


❌ ОШИБКА 2: Нажал кнопку, теперь надо всё обучать заново!

   Правда: НЕТ! Модель продолжит с того же места.
          Просто словарь пересоздастся при запуске обучения.


❌ ОШИБКА 3: Добавил датасет, не нажал кнопку, получил <UNK>

   Правда: Новый датасет = новые слова
          Старый токенизатор их НЕ знает
          Нужно нажать кнопку чтобы пересоздать словарь!


❌ ОШИБКА 4: Удалил датасет вручную из папки, всё сломалось

   Правда: Используйте ТОЛЬКО интерфейс!
          Кнопка "Открепить" в интерфейсе


═══════════════════════════════════════════════════════════════
📋 ЧЕКЛИСТ: КОГДА ЧТО ДЕЛАТЬ
═══════════════════════════════════════════════════════════════

□ Первое обучение модели
   → Ничего не трогать, всё автоматически

□ Продолжить обучение (тот же датасет)
   → Просто запустить обучение снова

□ Добавить новый датасет
   → Прикрепить + Нажать "🔄 Переобучить токенизатор"

□ Много <UNK> в генерации
   → Нажать "🔄 Переобучить токенизатор" + Обучить 10k+ итераций

□ Изменить batch_size / learning_rate
   → Просто запустить обучение, токенизатор не трогать

□ Создать новую модель
   → Ничего не трогать, всё создастся автоматически


═══════════════════════════════════════════════════════════════
💾 ЧТО ГДЕ ХРАНИТСЯ
═══════════════════════════════════════════════════════════════

📁 C:\Users\clavi\Desktop\для ии\models\my_model\
   ├── model.pt              ← ВСЁ ОБУЧЕНИЕ! НЕ ТРОГАТЬ!
   ├── model_trained.pt      ← Обученная модель
   ├── tokenizer.pkl         ← Словарь (можно удалять кнопкой)
   └── config.json           ← Настройки модели

📁 C:\Users\clavi\Desktop\для ии\books\
   └── ваши датасеты.txt     ← Тексты для обучения

📁 C:\Users\clavi\Desktop\для ии\checkpoints\
   └── сохранения каждые 1000 итераций


═══════════════════════════════════════════════════════════════
🎯 ЗОЛОТЫЕ ПРАВИЛА
═══════════════════════════════════════════════════════════════

1. Токенизатор ≠ Модель
   Удалить токенизатор = безопасно
   Удалить модель = потеря обучения

2. Добавили датасет = переобучить токенизатор
   Иначе будет много <UNK>

3. Используйте кнопку вместо ручного удаления
   Интерфейс → "🔄 Переобучить токенизатор"

4. Если сомневаетесь - не удаляйте ничего вручную
   Используйте интерфейс!

5. Модель можно обучать бесконечно долго
   Просто продолжайте обучение с большим iterations


═══════════════════════════════════════════════════════════════
❓ FAQ ДЛЯ НЕ-ПРОГРАММИСТОВ
═══════════════════════════════════════════════════════════════

Q: Я не программист, куда нажимать?
A: Вкладка "Датасеты" → Кнопка "🔄 Переобучить токенизатор"
   Ничего в файлах искать не нужно!


Q: Что значит "переобучить токенизатор"?
A: Пересоздать словарь слов на ВСЕХ ваших текстах.
   Модель (мозг) остаётся нетронутой!


Q: Я нажал кнопку, всё обучение пропало?
A: НЕТ! Обучение сохранено. Удалился только словарь.
   При следующем обучении словарь создастся заново.


Q: Когда нажимать эту кнопку?
A: Только когда добавили НОВЫЙ датасет или много <UNK>
   Если просто продолжаете обучение - НЕ нажимать!


Q: Можно ли сломать модель этой кнопкой?
A: НЕТ! Кнопка удаляет только токенизатор.
   Модель в безопасности!


Q: А если я случайно нажал?
A: Ничего страшного! При следующем обучении
   токенизатор пересоздастся автоматически.


Q: Надо ли каждый раз нажимать эту кнопку?
A: НЕТ! Только при добавлении НОВЫХ датасетов.


═══════════════════════════════════════════════════════════════
✅ ИТОГОВАЯ ИНСТРУКЦИЯ (3 шага)
═══════════════════════════════════════════════════════════════

ОБЫЧНОЕ ОБУЧЕНИЕ (без новых датасетов):
   1. Вкладка "Обучение"
   2. Выбрать модель
   3. Нажать "Начать обучение"
   
   ✅ Всё! Никаких кнопок не трогать.


С НОВЫМ ДАТАСЕТОМ:
   1. Вкладка "Датасеты"
      → Загрузить новый файл
      → Прикрепить к модели
      → Нажать "🔄 Переобучить токенизатор"
      → Подтвердить
   
   2. Вкладка "Обучение"
      → Запустить обучение
   
   3. При первом запуске увидите в консоли:
      "Training tokenizer on all attached datasets..."
      "Tokenizer vocabulary size: 7500+ tokens"
   
   ✅ Готово! Модель знает новые слова.


ЕСЛИ МНОГО <UNK>:
   1. Вкладка "Датасеты"
      → Нажать "🔄 Переобучить токенизатор"
   
   2. Вкладка "Обучение"
      → Обучить минимум 10,000 итераций
   
   ✅ <UNK> исчезнут!


═══════════════════════════════════════════════════════════════

🎉 Теперь вы знаете всё что нужно!
   Никаких файлов вручную удалять не надо - есть кнопка! 😊
