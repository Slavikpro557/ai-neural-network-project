╔══════════════════════════════════════════════════════════════╗
║            AZR Model Trainer - Инструкция                    ║
╚══════════════════════════════════════════════════════════════╝


═══════════════════════════════════════════════════════════════
🚀 БЫСТРЫЙ СТАРТ (ВСЁ В ОДНОМ!)
═══════════════════════════════════════════════════════════════

ПРОСТО ЗАПУСТИ:  start.bat

Батник сделает ВСЁ сам:
  1️⃣  Проверит Python
  2️⃣  Установит PyTorch с GPU (если нужно)
  3️⃣  Установит все зависимости
  4️⃣  Запустит сервер

⏱️  Первый раз: 5-10 минут (установка)
⏱️  Последующие: 5-10 секунд (только запуск)

Откроется: http://localhost:8000


АЛЬТЕРНАТИВА - быстрый запуск (если всё установлено):
   
   Запустите:  quick_start.bat
   
   Просто запускает сервер без проверок


═══════════════════════════════════════════════════════════════
📦 ФАЙЛЫ В ПРОЕКТЕ
═══════════════════════════════════════════════════════════════

БАТНИКИ:
  start.bat         - ОСНОВНОЙ! Делает всё сам (установка + запуск)
  install.bat       - Только установка (если нужно отдельно)
  quick_start.bat   - Быстрый запуск без проверок

PYTHON:
  server_with_datasets.py   - Основной сервер
  model.py                  - Архитектура модели
  tokenizer.py              - Токенизатор
  dataset_manager.py        - Управление датасетами
  azr_trainer_resume.py     - Тренер с resume

HTML:
  templates/index_complete.html - Веб-интерфейс

ДОКУМЕНТАЦИЯ:
  README.txt                - Эта инструкция
  УСТАНОВКА_GPU.txt         - Как включить GPU
  ВАЖНО_ПРО_ID.txt          - Про токенизатор
  ПРОВЕРКА_ЗАВЕРШЕНА.txt    - Список исправлений
  ЧТО_ИСПРАВЛЕНО.txt        - Детальная сводка


═══════════════════════════════════════════════════════════════
🎮 ПРО GPU
═══════════════════════════════════════════════════════════════

У ТЕБЯ: NVIDIA GeForce GTX 1650 (4GB)

ЕСЛИ install.bat установил PyTorch правильно:
  ✅ Индикатор в браузере покажет: "🎮 GPU: GTX 1650"
  ✅ Обучение: 1000 итераций ≈ 3-5 минут
  ✅ Ускорение в 5-10 раз по сравнению с CPU

ЕСЛИ что-то пошло не так:
  ❌ Индикатор покажет: "CPU"
  ❌ Обучение: 1000 итераций ≈ 20-30 минут
  📖 Смотри: УСТАНОВКА_GPU.txt


═══════════════════════════════════════════════════════════════
🔧 ЕСЛИ ПРОБЛЕМЫ
═══════════════════════════════════════════════════════════════

ПРОБЛЕМА: GPU не определяется
РЕШЕНИЕ:
  1. Запусти install.bat заново
  2. Проверь: nvidia-smi (в командной строке)
  3. Если GPU есть - переустанови PyTorch:
     pip uninstall torch torchvision torchaudio
     pip install torch torchvision torchaudio --index-url https://download.pytorch.org/whl/cu124

ПРОБЛЕМА: Сервер не запускается
РЕШЕНИЕ:
  1. Проверь что Python установлен: python --version
  2. Запусти install.bat
  3. Проверь что порт 8000 свободен

ПРОБЛЕМА: "Module not found"
РЕШЕНИЕ:
  Запусти: install.bat

ПРОБЛЕМА: Обучение очень медленное
РЕШЕНИЕ:
  Проверь индикатор GPU в правом верхнем углу
  Если показывает "CPU" - смотри УСТАНОВКА_GPU.txt


═══════════════════════════════════════════════════════════════
📊 КАК ПОЛЬЗОВАТЬСЯ
═══════════════════════════════════════════════════════════════

1. СОЗДАТЬ МОДЕЛЬ
   • Вкладка "Создать"
   • Введи имя модели
   • Настрой параметры (или оставь по умолчанию)
   • Нажми "Создать модель"

2. ЗАГРУЗИТЬ ДАТАСЕТЫ
   • Вкладка "Датасеты"
   • Нажми на область загрузки
   • Выбери .txt файл (книгу, текст)
   • Прикрепи к модели кнопкой "Прикрепить"

3. ОБУЧИТЬ МОДЕЛЬ
   • Вкладка "Обучение"
   • Выбери модель
   • Настрой параметры (итерации, learning rate)
   • Нажми "Начать обучение"
   • График обновляется автоматически

4. ГЕНЕРИРОВАТЬ ТЕКСТ
   • Вкладка "Генерация"
   • Выбери модель
   • Введи начало текста
   • Нажми "Сгенерировать"


═══════════════════════════════════════════════════════════════
🎯 АВТОМАТИКА
═══════════════════════════════════════════════════════════════

Токенизатор работает АВТОМАТИЧЕСКИ:

➕ Добавили датасет:
   → Токенизатор добавит новые слова
   → Старые слова сохраняются
   → ID не меняются
   → Модель помнит всё что выучила

➖ Убрали датасет:
   → Слова ОСТАЮТСЯ в словаре
   → Модель помнит всё
   → Если вернёте датасет - "вспомнит"!

Подробности: ВАЖНО_ПРО_ID.txt


═══════════════════════════════════════════════════════════════
⚙️ ТЕХНИЧЕСКИЕ ДЕТАЛИ
═══════════════════════════════════════════════════════════════

Архитектура: Transformer Language Model
Параметры: ~8-15M (зависит от настроек)
Контекст: 512-1024 токенов
Словарь: до 8000 слов
Batch size: 32 (по умолчанию)
Learning rate: 0.0001 (по умолчанию)


═══════════════════════════════════════════════════════════════
📈 СОВЕТЫ ПО ОБУЧЕНИЮ
═══════════════════════════════════════════════════════════════

1. ДАТАСЕТЫ:
   • Минимум 100KB текста
   • Чем больше - тем лучше (1-10MB идеально)
   • Разные жанры - разные модели

2. ИТЕРАЦИИ:
   • Тест: 100-500 итераций (1-2 минуты)
   • Норма: 5,000-10,000 (15-30 минут)
   • Качественно: 50,000+ (несколько часов)

3. ПАРАМЕТРЫ:
   • embed_dim: больше = сложнее (512-1024)
   • num_heads: 8-16 (зависит от embed_dim)
   • num_layers: 4-8 (больше = медленнее)
   • learning_rate: 0.0001-0.001

4. ГРАФИК:
   • Loss должен падать
   • Reward должен расти
   • Если плато - обучение закончено


═══════════════════════════════════════════════════════════════
🎉 ГОТОВО!
═══════════════════════════════════════════════════════════════

Запусти install.bat → start.bat → Открой браузер!

Удачи с обучением! 🚀


Вопросы? Смотри документацию в папке или спроси меня!
